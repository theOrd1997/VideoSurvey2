<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=0.75" />
  <style>
    :root{
      --fg:#0f172a; --muted:#64748b; --line:#e5e7eb; --bg:#f8fafc; --card:#fff;
      --brand:#2563eb; --brand-900:#1e40af; --brand-50:#eef2ff;
      --radius:12px; --gap:20px; --shadow:0 2px 10px rgba(2,6,23,.04);
    }
    html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.7 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{font-family:"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic","Segoe UI",Roboto,system-ui,Arial,sans-serif;letter-spacing:-.003em;}
    .wrap{max-width:960px;margin:40px auto;padding:0 20px}
    .h1{font-size:1.7rem;font-weight:800;margin:0 0 8px}
    .h2{font-size:1.28rem;font-weight:800;margin:0 0 12px}
    .muted{color:var(--muted)}
    .small{font-size:0.9rem}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:26px;margin-top:var(--gap)}
    .video-wrap{display:grid;gap:12px}
    .btnbar{display:flex;gap:12px;flex-wrap:wrap;margin-top:28px}
    .btn{display:inline-flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--line);border-radius:10px;padding:12px 18px;font-weight:700;cursor:pointer;transition:transform .06s,box-shadow .2s,border-color .2s}
    .btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
    .btn.primary:hover{background:var(--brand-900);border-color:var(--brand-900)}
    .btn[disabled]{opacity:.55;cursor:not-allowed}
    .notice{padding:12px;border:1px solid #fde68a;background:#fffbea;color:#92400e;border-radius:10px}
    select{padding:8px 12px;font-size:1rem;border-radius:6px;border:1px solid var(--line);margin-top:10px}
    label{font-weight:700;display:block;margin-top:12px}
    /* ✅ 추가: 브랜드 안내 패널 */
    .panel{border:1px solid var(--line);background:var(--bg);border-radius:var(--radius);padding:16px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="row2">
      <h1 class="h1">자극물 선택 시청(발표용)</h1>
      <div style="min-width:200px">
        <div class="muted small" id="stepLabel" style="text-align:right;margin-top:6px">1 / 1</div>
      </div>
    </div>

    <!-- ✅ 안내 문구 및 자극물 선택 -->
    <div class="card">
      <p class="muted small" style="margin:0">
        ⚠️ 현재 링크에서는 자극물을 <strong>직접 선택하여 시청</strong>할 수 있으며 실제 설문조사에서는 참가자에게 <strong>무작위로 자극물이 할당</strong>되었습니다.
      </p>
      <select id="stimulusSelect">
        <option value="">-- 자극물을 선택하세요 --</option>
        <option value="A_H">A_H : AI 100% 제작*독창성(고)</option>
        <option value="A_L">A_L : AI 100% 제작*독창성(저)</option>
        <option value="B_H">B_H : 전문가+AI*독창성(고)</option>
        <option value="B_L">B_L : 전문가+AI*독창성(고)</option>
        <option value="C_H">C_H :  전문가 100%*독창성(고)</option>
        <option value="C_L">C_L  전문가 100%*독창성(저)</option>
      </select>
    </div>

    <!-- ✅ 광고 시청 영역 -->
    <section id="sec2" class="card">
      <h2 class="h2">광고 시청</h2>

      <!-- ✅ 패널 적용 -->
      <div class="info panel" style="margin-bottom:14px">
        <div style="font-weight:800;margin-bottom:6px">브랜드 안내</div>
        <div id="brandBox" style="line-height:1.75"></div>
      </div>

      <p class="notice" id="aiNotice" role="alert" aria-live="polite">
        ⚠️ 안내 문구가 여기에 표시됩니다.
      </p>

      <div class="video-wrap">
        <video id="adVideo" width="100%" height="auto" controls playsinline preload="metadata" aria-describedby="aiNotice">
          <source id="adSrc" src="" type="video/mp4">
          해당 브라우저는 video 태그를 지원하지 않습니다.
        </video>
        <div class="muted small" id="chosenInfo"></div>
      </div>

      <div class="btnbar">
        <button class="btn primary" id="nextBtn" disabled aria-disabled="true" title="영상을 끝까지 시청하면 활성화됩니다">다음</button>
      </div>
    </section>
  </div>

  <script>
    const COPY = {
      brandHTML: `
        <strong>Sunshine</strong>는 매일의 순간에 신선한 빛을 전하는 주스 브랜드입니다.<br>
        <strong>“Fresh Sunlight in Every Glass”</strong>라는 메시지처럼, 한 잔의 주스 속에 건강하고 활기찬 태양의 에너지를 담아 전달합니다.
      `,
      stimuli: {
        A_H:{file:"A_H.mp4",label:"⚠️ 해당 광고는 <strong>생성형 AI에 의해 100% 자동 제작</strong>된 콘텐츠입니다.<br>또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."},
        A_L:{file:"A_L.mp4",label:"⚠️ 해당 광고는 <strong>생성형 AI에 의해 100% 자동 제작</strong>된 콘텐츠입니다.<br>또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."},
        B_H:{file:"B_H.mp4",label:"⚠️ 해당 광고는 <strong>광고 전문가가 생성형 AI를 활용하여 제작</strong>한 콘텐츠입니다.<br> 또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."},
        B_L:{file:"B_L.mp4",label:"⚠️ 해당 광고는 <strong>광고 전문가가 생성형 AI를 활용하여 제작</strong>한 콘텐츠입니다.<br> 또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."},
        C_H:{file:"C_H.mp4",label:"⚠️ 해당 광고는 <strong>광고 전문가가 100% 제작</strong>한 콘텐츠입니다. 생성형 AI는 활용되지 않았습니다.<br> 또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."},
        C_L:{file:"C_L.mp4",label:"⚠️ 해당 광고는 <strong>광고 전문가가 100% 제작</strong>한 콘텐츠입니다. 생성형 AI는 활용되지 않았습니다.<br> 또한 영상에는 음성이 포함되어 있으므로, <strong>반드시 소리와 함께</strong> 시청해 주시기 바랍니다."}
      }
    };

    const $ = (s,sc=document)=>sc.querySelector(s);

    document.addEventListener("DOMContentLoaded",()=>{
      $("#brandBox").innerHTML=COPY.brandHTML;

      const adSrc=$("#adSrc"),adVideo=$("#adVideo"),aiNotice=$("#aiNotice"),nextBtn=$("#nextBtn"),select=$("#stimulusSelect");

      select.addEventListener("change",()=>{
        const val=select.value,selected=COPY.stimuli[val];
        if(!selected)return;
        adSrc.src=selected.file;
        adVideo.load();
        aiNotice.innerHTML=selected.label;
        nextBtn.disabled=true;
        nextBtn.setAttribute("aria-disabled","true");
        nextBtn.setAttribute("title","영상을 끝까지 시청하면 활성화됩니다");
      });

      const unlock=()=>{
        nextBtn.disabled=false;
        nextBtn.removeAttribute("aria-disabled");
        nextBtn.removeAttribute("title");
      };
      adVideo.addEventListener("timeupdate",e=>{
        const v=e.target;
        if(v.duration && v.currentTime/v.duration>=0.95)unlock();
      });
      adVideo.addEventListener("ended",unlock);

      nextBtn.addEventListener("click",()=>{
        window.location.href="https://example.com/survey";
      });
    });
  </script>
</body>
</html>
